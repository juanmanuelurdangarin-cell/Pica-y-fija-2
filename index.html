<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pica y Fija</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Arial, sans-serif;
  user-select:none;
}

body{
  background:#111;
}

/* Fondo decorativo */
.decoracion{
  position:fixed;
  width:100%;
  height:100%;
  z-index:-1;
  pointer-events:none;
}

.numero-bg{
  position:absolute;
  opacity:0.05;
  font-weight:bold;
  color:white;
}

/* Pantallas */
.pantalla{
  min-height:100vh;
  display:none;
  flex-direction:column;
  align-items:center;
  padding:20px;
  overflow-y:auto;
}

.activa{
  display:flex;
}

/* Limitar ancho en PC */
.pantalla > *{
  width:100%;
  max-width:500px;
}

/* Gradientes */
.menu{
  background:linear-gradient(135deg,#ff512f,#f09819);
  color:white;
  justify-content:center;
  text-align:center;
}

.turno1{
  background:linear-gradient(135deg,#36d1dc,#5b86e5);
  color:white;
}

.turno2{
  background:linear-gradient(135deg,#ff9966,#ff5e62);
  color:white;
}

h1{
  margin-bottom:15px;
  text-align:center;
}

input{
  margin-top:12px;
  padding:14px;
  font-size:18px;
  border:none;
  border-radius:8px;
  text-align:center;
  width:100%;
}

button{
  margin-top:14px;
  padding:12px;
  font-size:16px;
  border:none;
  border-radius:8px;
  background:#ffd200;
  cursor:pointer;
  transition:0.2s;
}

button:hover{
  transform:scale(1.03);
}

.nav{
  margin-top:20px;
}

.historial{
  margin-top:20px;
  width:100%;
}

.item{
  background:rgba(255,255,255,0.2);
  padding:10px;
  margin-top:8px;
  border-radius:6px;
  text-align:center;
  font-size:16px;
}

/* Bot√≥n finalizar */
.finalizar-btn{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#222;
  color:white;
  z-index:5;
  padding:12px 18px;
}

/* Modal */
.modal{
  position:fixed;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10;
}

.modal-content{
  background:white;
  padding:25px;
  border-radius:10px;
  text-align:center;
  width:90%;
  max-width:400px;
}

.modal-content button{
  margin:10px;
}

.rojo{
  color:red;
  font-weight:bold;
}

/* Ajustes PC */
@media (min-width:768px){
  input{
    font-size:20px;
  }

  button{
    font-size:18px;
  }

  .item{
    font-size:18px;
  }
}
</style>
</head>

<body>

<div class="decoracion" id="decoracion"></div>

<!-- MENU -->
<div class="pantalla menu activa" id="menu">
  <h1>üéØ PICA Y FIJA</h1>
  <p>Eleg√≠ tu n√∫mero secreto</p>
  <input type="tel" id="numeroJugador" maxlength="4" placeholder="0000">
  <button onclick="iniciarJuego()">Aceptar</button>
</div>

<!-- PANTALLA 1 -->
<div class="pantalla turno1" id="pantalla1">
  <h1>Tu Turno</h1>

  <input type="tel" id="intentoJugador" maxlength="4" placeholder="N√∫mero que intent√°s">
  <input type="number" id="picasManual" placeholder="Picas">
  <input type="number" id="fijasManual" placeholder="Fijas">
  <button onclick="agregarIntentoJugador()">Guardar Intento</button>

  <div class="historial" id="historial1"></div>

  <div class="nav">
    <button onclick="mostrarPantalla(2)">Ir a Turno Rival ‚Üí</button>
  </div>
</div>

<!-- PANTALLA 2 -->
<div class="pantalla turno2" id="pantalla2">
  <h1>Turno Rival</h1>

  <input type="tel" id="intentoRival" maxlength="4" placeholder="N√∫mero que dicen">
  <button onclick="calcular()">Calcular</button>

  <div class="historial" id="historial2"></div>

  <div class="nav">
    <button onclick="mostrarPantalla(1)">‚Üê Ir a Tu Turno</button>
  </div>
</div>

<!-- BOT√ìN FINALIZAR -->
<button class="finalizar-btn" onclick="abrirModal()">Finalizar Juego</button>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content">
    <p>¬øEst√°s seguro que deseas finalizar esta partida?</p>
    <button onclick="cerrarModal()">No</button>
    <button class="rojo" onclick="finalizar()">SI</button>
  </div>
</div>

<script>
let numeroSecreto="";

/* Iniciar */
function iniciarJuego(){
  const num=document.getElementById("numeroJugador").value;
  if(num.length!==4){
    alert("El n√∫mero debe tener 4 cifras");
    return;
  }
  numeroSecreto=num;
  document.getElementById("menu").classList.remove("activa");
  document.getElementById("pantalla1").classList.add("activa");
}

/* Navegaci√≥n */
function mostrarPantalla(num){
  document.getElementById("pantalla1").classList.remove("activa");
  document.getElementById("pantalla2").classList.remove("activa");
  document.getElementById("pantalla"+num).classList.add("activa");
}

/* Pantalla 1 */
function agregarIntentoJugador(){
  const num=document.getElementById("intentoJugador").value;
  const p=document.getElementById("picasManual").value;
  const f=document.getElementById("fijasManual").value;

  if(num.length!==4) return;

  const div=document.createElement("div");
  div.className="item";
  div.innerText=num+" ‚Üí "+p+"P "+f+"F";
  document.getElementById("historial1").appendChild(div);

  if(f==4){
    alert("üéâ FELICITACIONES! Adivinaste el n√∫mero üéâ");
  }

  document.getElementById("intentoJugador").value="";
  document.getElementById("picasManual").value="";
  document.getElementById("fijasManual").value="";
}

/* Pantalla 2 */
function calcular(){
  const intento=document.getElementById("intentoRival").value;
  if(intento.length!==4) return;

  let fijas=0;
  let p
