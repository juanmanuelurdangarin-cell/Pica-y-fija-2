<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pica y Fija</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Arial, sans-serif;
  user-select:none;
}

body{
  overflow:hidden;
}

/* Fondo decorativo */
.decoracion{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  z-index:-1;
  pointer-events:none;
}

.numero-bg{
  position:absolute;
  opacity:0.05;
  font-weight:bold;
  pointer-events:none;
}

/* Pantallas */
.pantalla{
  position:absolute;
  width:100%;
  height:100vh;
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:20px;
}

.activa{
  display:flex;
}

/* Colores */
.menu{
  background:linear-gradient(135deg,#ff512f,#f09819);
  color:white;
}

.juego{
  background:linear-gradient(135deg,#36d1dc,#5b86e5);
  color:white;
}

input{
  margin-top:15px;
  padding:12px;
  font-size:20px;
  border:none;
  border-radius:10px;
  text-align:center;
}

button{
  margin-top:15px;
  padding:12px 25px;
  font-size:18px;
  border:none;
  border-radius:10px;
  background:#ffd200;
}

.mensaje{
  margin-top:20px;
  font-size:20px;
}
</style>
</head>

<body>

<div class="decoracion" id="decoracion"></div>

<div class="pantalla menu activa" id="menu">
  <h1>ðŸŽ¯ PICA Y FIJA 007</h1>
  <p>ElegÃ­ tu nÃºmero</p>
  <input type="tel" id="numeroJugador" maxlength="4" placeholder="0000">
  <button onclick="iniciarJuego()">Aceptar</button>
</div>

<div class="pantalla juego" id="juego">
  <h1>Turno rival</h1>
  <input type="tel" id="intentoRival" maxlength="4" placeholder="NÃºmero que dicen">
  <button onclick="calcular()">Calcular</button>
  <div class="mensaje" id="resultado"></div>
  <button onclick="reiniciar()">Finalizar Juego</button>
</div>

<script>
let numeroSecreto="";

function iniciarJuego(){
  const num=document.getElementById("numeroJugador").value;
  if(num.length!==4){alert("Debe tener 4 cifras");return;}
  numeroSecreto=num;
  document.getElementById("menu").classList.remove("activa");
  document.getElementById("juego").classList.add("activa");
}

function calcular(){
  const intento=document.getElementById("intentoRival").value;
  if(intento.length!==4)return;

  let fijas=0;
  let picas=0;
  let usadoSecreto=[false,false,false,false];
  let usadoIntento=[false,false,false,false];

  for(let i=0;i<4;i++){
    if(intento[i]===numeroSecreto[i]){
      fijas++;
      usadoSecreto[i]=true;
      usadoIntento[i]=true;
    }
  }

  for(let i=0;i<4;i++){
    if(usadoIntento[i])continue;
    for(let j=0;j<4;j++){
      if(!usadoSecreto[j] && intento[i]===numeroSecreto[j]){
        picas++;
        usadoSecreto[j]=true;
        break;
      }
    }
  }

  document.getElementById("resultado").innerText=
  picas+" Picas - "+fijas+" Fijas";

  if(fijas===4){
    alert("Lo sentimos, perdiste. Adivinaron tu nÃºmero.");
  }
}

function reiniciar(){
  location.reload();
}

/* DecoraciÃ³n */
function crearDecoracion(){
  const cont=document.getElementById("decoracion");
  for(let i=0;i<30;i++){
    const span=document.createElement("span");
    span.className="numero-bg";
    span.innerText=Math.floor(Math.random()*10);
    span.style.fontSize=(Math.random()*120+40)+"px";
    span.style.top=Math.random()*100+"%";
    span.style.left=Math.random()*100+"%";
    span.style.color="white";
    cont.appendChild(span);
  }
}

crearDecoracion();
</script>

</body>
</html>
